# =============================================================================
# RAG Chatbot Backend Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# -----------------------------------------------------------------------------
# OpenAI Configuration (Required)
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini

# -----------------------------------------------------------------------------
# OpenRouter Fallback (Optional)
# -----------------------------------------------------------------------------
OPENROUTER_API_KEY=sk-or-your-openrouter-key-here
OPENROUTER_MODEL=openai/gpt-4o-mini

# -----------------------------------------------------------------------------
# Embedding Services (Required)
# -----------------------------------------------------------------------------
COHERE_API_KEY=your-cohere-api-key-here


# -----------------------------------------------------------------------------
# Qdrant Vector Database (Required)
# -----------------------------------------------------------------------------
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=
QDRANT_COLLECTION=book_chunks

# -----------------------------------------------------------------------------
# PostgreSQL Database (Required)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://dev:dev@localhost:5432/ragchat

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_ADMIN_KEY=your-admin-api-key-here

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
CORS_ORIGINS=http://localhost:3000,https://your-docusaurus-site.github.io

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# RAG Configuration
# -----------------------------------------------------------------------------
# Relevance threshold for confident responses (0.0 - 1.0)
RELEVANCE_THRESHOLD=0.7

# Number of chunks to retrieve
TOP_K_CHUNKS=5

# Chunk size in tokens
CHUNK_SIZE=512
CHUNK_OVERLAP=50

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_REQUESTS_PER_MINUTE=10
RATE_LIMIT_QUEUE_SIZE=50
RATE_LIMIT_QUEUE_TIMEOUT=30
